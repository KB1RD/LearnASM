<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8">
    <!-- On mobile, it's easier to use when things aren't squished in -->
    <!--<meta name="viewport" content="width=device-width">-->
    <meta name="keywords" content="simulator emulator educational programming assembly learn code how to program">
    <meta name="description" content="An educational assembly code simulator in your web browser">
    <!-- Bing SEO tools -->
    <meta name="msvalidate.01" content="81864EE2A2215AE8DE4515362FDF148D" />
    <!-- Google SEO tools -->
    <meta name="google-site-verification" content="B8npdvGoQsXpO_CZ53mdBeb1TTus4xP_c0luNbukw8g" />

    <title>LearnASM - Editor</title>
    
    <link rel="stylesheet" href="/css/theme.min.css"></link>
    
    <link rel="stylesheet" href="/css/split.css"></link>
    <link rel="stylesheet" href="/css/overlay.css"></link>
    <link rel="stylesheet" href="/css/utils.css"></link>
    
    <script src="/js/lib/jquery.min.js"></script>
    <script src="/js/lib/vue.debug.js"></script>
    <script src="/js/lib/popper.min.js"></script>
    <script src="/js/lib/bootstrap.min.js"></script>
    
    <script src="/js/lib/split.min.js"></script>
    
    <script src="/codemirror/lib/codemirror.js"></script>
    <script src="/js/lib/vue-codemirror.js"></script>
    <link rel="stylesheet" href="/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="/codemirror/theme/mdn-like.css">
    
    <script src="/js/lang/common.js"></script>
    <script src="/js/lang/components.js"></script>
    
    <script src="/js/lang/learn-asm/codemirror-mode.js"></script>
    <script src="/js/lang/learn-asm/lang.js"></script>
  </head>
  
  <body>
    <div id="vue-container"><system-container sysname="global" default_code="halt" cookie="code"><template slot-scope="container">
      
      <notification-overlay :alert_manager="alert_manager"></notification-overlay>
      <options-modal :options="options"></options-modal>
      
      <dialog-modal id="dialog-modal" :title="alert_manager.dialog.title" :body="alert_manager.dialog.body" :btns="alert_manager.dialog.btns"></dialog-modal>
      
      <custom-navbar :version="version" :links="main_navbar" :home="main_navbar_home">
        <!-- FILE BUTTON GROUP -->
        <ctrl-file-menu :system="container.system" :options_modal="'#options-modal'"></ctrl-file-menu>
        
        <ctrl-button-panel :system="container.system" :global="$root"></ctrl-button-panel>
      </custom-navbar>
      
      <div class="content-container">
        <div style="height: 100%">
          <div id="lpane" class="split split-horizontal">
            <div id="apane" class="split content flex-container">
              <core-pane-code :system="container.system" :activelines="container.system.active_lines"></core-pane-code>
            </div>
            <div id="bpane" class="split content">
              <core-pane-mem></core-pane-mem>
            </div>
          </div>
          <div id="rpane" class="split split-horizontal">
            <div id="cpane" class="split content">
              <core-pane-io></core-pane-io>
            </div>
            <div id="dpane" class="split content" style="overflow: auto;">
              <component :is="container.system.visual_component" :cpu="container.system.cpu"></component>
            </div>
          </div>
        </div>
      </div>
    </template></system-container></div>
    
    <!-- Core Init -->
    <script type="text/javascript">
        $(document).ready(function() {
          core_init();
          
          Split(['#lpane', '#rpane'], {
              gutterSize: 8,
              cursor: 'col-resize'
          });
          Split(['#apane', '#bpane'], {
              direction: 'vertical',
              sizes: [25, 75],
              gutterSize: 8,
              cursor: 'row-resize'
          }).collapse(1);
          Split(['#cpane', '#dpane'], {
              direction: 'vertical',
              sizes: [25, 75],
              gutterSize: 8,
              cursor: 'row-resize'
          }).collapse(0);
        });

        window.addEventListener("beforeunload", function(e) {
          global.save_options();
        }, false);
    </script>
  </body>
</html>
